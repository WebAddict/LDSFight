<ion-view title="{{lesson.fullTitle}}">
	<ion-nav-title class="pmfont">{{lesson.fullTitle}}</ion-nav-title>
    <ion-content padding="true" class="has-header">
		<ion-refresher pulling-text="Pull to refresh..." on-refresh="doRefresh()"></ion-refresher>
		<p ng-if="!authData"><button ui-sref="login" class="button button-block button-positive">Sign In</button></p>
		<div class="list card" ng-if="authData && lesson.actions && !isMyLessons">
			<div class="item item-divider item-text-wrap pmfont">{{!isMyLessons ? user.displayName + "'s" : "My"}} F.I.G.H.T. Actions<span ng-if="pointTotal"><br>{{pointTotal ? pointTotal : 0 | number:0}} Available Points</span></div>
			<div class="item item-text-wrap item-icon-left" ng-repeat="action in actions" ng-click="reportAction(action.$id)"><i class="icon" ng-class="{'ion-minus-circled energized': !user.points[action.actionKey].pointValue, 'ion-checkmark-circled balanced': user.points[action.actionKey].pointValue}"></i> {{action.title}}<br><span class="pmfont">{{action.pointValue}} points</span></div>
		</div>
		<div ng-if="lesson.html" ng-bind-html="lesson.html"></div>
		<div class="list card" ng-if="authData && lesson.actions">
			<div class="item item-divider item-text-wrap pmfont">{{!isMyLessons ? user.displayName + "'s" : "My"}} F.I.G.H.T. Actions<span ng-if="pointTotal"><br>{{pointTotal ? pointTotal : 0 | number:0}} Available Points</span></div>
			<div class="item item-text-wrap item-icon-left" ng-repeat="action in actions" ng-click="reportAction(action.$id)"><i class="icon" ng-class="{'ion-minus-circled energized': !user.points[action.actionKey].pointValue, 'ion-checkmark-circled balanced': user.points[action.actionKey].pointValue}"></i> {{action.title}}<br><span class="pmfont">{{action.pointValue}} points</span></div>
		</div>
		<div ng-if="lesson.html2" ng-bind-html="lesson.html2"></div>
	</ion-content>
</ion-view>
